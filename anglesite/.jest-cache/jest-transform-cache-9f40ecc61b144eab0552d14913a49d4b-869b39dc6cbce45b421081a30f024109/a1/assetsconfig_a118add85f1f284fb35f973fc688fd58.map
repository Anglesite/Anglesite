{"file":"/Users/dwk/Developer/gitlab.com/davidwkeith/@dwk/anglesite/assets.config.js","mappings":"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","names":[],"sources":["/Users/dwk/Developer/gitlab.com/davidwkeith/@dwk/anglesite/assets.config.js"],"sourcesContent":["// Asset pipeline configuration for Anglesite\nconst path = require('path');\n\nconst ASSET_CONFIG = {\n  // Image optimization settings\n  images: {\n    // Responsive image breakpoints\n    breakpoints: [320, 640, 768, 1024, 1280, 1536],\n\n    // Image formats to generate\n    formats: ['webp', 'avif', 'jpeg', 'png'],\n\n    // Quality settings per format\n    quality: {\n      jpeg: 85,\n      png: 90,\n      webp: 80,\n      avif: 75,\n    },\n\n    // Size limits for inline images (base64)\n    inlineLimit: 8 * 1024, // 8KB\n  },\n\n  // Font optimization settings\n  fonts: {\n    // Font formats to support\n    formats: ['woff2', 'woff'],\n\n    // Font preload settings\n    preload: {\n      enabled: true,\n      crossorigin: 'anonymous',\n    },\n\n    // Font display strategy\n    display: 'swap',\n\n    // Subset configuration\n    subset: {\n      enabled: true,\n      unicodeRanges: {\n        latin:\n          'U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD',\n        'latin-ext': 'U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF',\n      },\n    },\n  },\n\n  // CSS optimization settings\n  css: {\n    // PostCSS configuration\n    postcss: {\n      autoprefixer: {\n        grid: true,\n        flexbox: 'no-2009',\n      },\n\n      // CSS custom properties\n      customProperties: {\n        preserve: true,\n        exportTo: 'app/ui/css-custom-properties.json',\n      },\n\n      // CSS nesting\n      nesting: true,\n\n      // CSS color functions\n      colorFunction: true,\n    },\n\n    // CSS purging for production\n    purge: {\n      enabled: true,\n      content: [\n        'app/**/*.{js,ts,jsx,tsx,html}',\n        'app/ui/**/*.{js,ts,jsx,tsx,html}',\n        'app/ui/templates/**/*.html',\n        'app/ui/react/**/*.{js,ts,jsx,tsx}',\n      ],\n      safelist: [\n        // Always keep these classes\n        /^hljs-/, // Syntax highlighting\n        /^ace_/, // Code editor\n        /^btn-/, // Custom button variants\n        /^card-/, // Custom card variants\n      ],\n    },\n  },\n\n  // Build output settings\n  output: {\n    // Asset naming patterns\n    naming: {\n      development: {\n        js: '[name].js',\n        css: '[name].css',\n        images: '[name][ext]',\n        fonts: 'fonts/[name][ext]',\n      },\n      production: {\n        js: '[name].[contenthash:8].js',\n        css: '[name].[contenthash:8].css',\n        images: 'images/[name].[contenthash:8][ext]',\n        fonts: 'fonts/[name].[contenthash:8][ext]',\n      },\n    },\n\n    // Public path settings\n    publicPath: {\n      development: '/',\n      production: './',\n    },\n\n    // Clean output directory\n    clean: true,\n  },\n\n  // Performance settings\n  performance: {\n    // Asset size warnings\n    hints: 'warning',\n    maxEntrypointSize: 512000, // 500KB\n    maxAssetSize: 250000, // 250KB\n\n    // Bundle analysis\n    analyzer: {\n      enabled: process.env.ANALYZE_BUNDLE === 'true',\n      openAnalyzer: true,\n    },\n  },\n\n  // Source map configuration - optimized for development speed and production debugging\n  sourceMaps: {\n    development: {\n      // eval-cheap-module-source-map: Fastest rebuild times with good debugging support\n      // - Uses eval() for fast rebuilds\n      // - No column mappings (cheaper)\n      // - Preserves original source structure (module)\n      // - Perfect for TypeScript/JSX debugging during development\n      devtool: 'eval-cheap-module-source-map',\n      \n      // CSS source maps for development debugging\n      css: true,\n      \n      // Enable source maps for all loaders (ts-loader, css-loader, etc.)\n      loaders: true,\n    },\n    production: {\n      // source-map vs hidden-source-map: Choose based on deployment security needs\n      // - source-map: Full debugging capability with references in bundle\n      // - hidden-source-map: No bundle references, more secure for public distribution\n      devtool: process.env.ELECTRON_IS_PACKAGED ? 'hidden-source-map' : 'source-map',\n      \n      // CSS source maps for production debugging (separate files)\n      css: true,\n      \n      // Selective node_modules inclusion - exclude most but allow critical debugging deps\n      exclude: [\n        /node_modules\\/(?!(react|react-dom|@dwk\\/anglesite-))/,\n      ],\n      \n      // Source map file naming pattern - now handled by SourceMapDevToolPlugin\n      filename: '[file].map[query]',\n      \n      // Security headers for source map files\n      headers: {\n        'X-Content-Type-Options': 'nosniff',\n        'Cache-Control': 'private, max-age=0',\n      },\n      \n      // Source map validation during build\n      validation: {\n        enabled: process.env.VALIDATE_SOURCE_MAPS === 'true',\n        checkIntegrity: true,\n        reportMissing: true,\n      },\n      \n      // Enhanced error tracking service integration\n      upload: {\n        enabled: process.env.UPLOAD_SOURCE_MAPS === 'true',\n        service: process.env.ERROR_TRACKING_SERVICE || 'sentry',\n        apiKey: process.env.SOURCEMAP_API_KEY,\n        release: process.env.APP_VERSION || require('../package.json').version,\n        urlPrefix: '~/app/', // Proper stack trace mapping prefix\n        deleteAfterUpload: process.env.DELETE_SOURCEMAPS_AFTER_UPLOAD === 'true',\n      },\n    },\n  },\n\n  // Development server settings\n  devServer: {\n    // Asset serving\n    static: [\n      {\n        directory: path.join(__dirname, 'dist/app/ui/react'),\n        publicPath: '/',\n      },\n      {\n        directory: path.join(__dirname, 'app/ui'),\n        publicPath: '/ui',\n      },\n      {\n        directory: path.join(__dirname, 'icons'),\n        publicPath: '/icons',\n      },\n    ],\n\n    // Hot reload settings\n    hot: true,\n    liveReload: true,\n\n    // Asset compression\n    compress: true,\n\n    // CORS headers\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, PATCH, OPTIONS',\n      'Access-Control-Allow-Headers': 'X-Requested-With, content-type, Authorization',\n    },\n  },\n};\n\nmodule.exports = ASSET_CONFIG;\n"],"version":3}